# StatechartSharp 简介

> 我在接触 Godot 时，因为没找到合适的状态机教程，就做了这个插件。

## 新的节点

主要的节点就 4 个：

- Statechart ：整个 Statechart 的根节点（你可以把它当作“状态机”节点）
- State ：状态节点。
- Transition ：表示状态之间“转换”的节点。
- Reaction：表示状态“做什么”的节点（规范里称为 action ，但是太冲突了就改成 reaction）。

还有一个 TransitionPromoter 节点，是用来提升 Transition 优先级的。

节点提供了一些信号，可以让你不扩展脚本就实现状态机功能。

## 快速搭建状态机

Statechart 各处细节还是比较繁琐的，但是你完全可以把它当作基础的状态机来使用。

首先创建一个 Statechart 节点，然后添加一些 State 节点。注意我们需要一个”根状态节点“（即使你的状态机是单层的），在根节点下再放置更多的状态节点。

注意 State 节点放置的顺序是**有影响**的，包括之后要用的 Transition 、 Reaction 。节点（展开所有层级）在编辑器中**从上到下**的顺序叫做”文本序“（Document order），各种遍历操作都要用。目前先还用不到，你只需要考虑：状态机初始会默认进入第一个子状态。
